<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="homepage.css">
    <link rel="stylesheet" href="main.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
<link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <title>Brand-name</title>
</head>
<body>
    <div class="mainbg ">
        <nav class="navbar navbar-dark navbar-custom ">
            <a href="/" class="navbar-brand" style = "font-family: 'Ubuntu', sans-serif;color:#555555">My-Pockt</a>
            <form class="form-inline">
                <p>Welcome <%= save.firstname %></p> 
              </form>
                </nav>
                <div class="bthold d-flex justify-content-center" style="margin-top:30px;">
                <button id="btx" class="btn btn-success btn-lg">+ Add item</button>

                
<div id="add" class="modal fade" role="dialog">
    <div class="modal-dialog   modal-lg" role="content">
        <!-- modal content -->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
                   Add a savings goal
                </h4>
                <button style="outline: none;" type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
               <form method="POST">
                   <div class="form-row">
                       <div class="col-sm-2 ">
                           <label for="goal">Goal  :</label>
                       </div>
                       <div class="col-sm-10 ">
                           <input id="goal" name="goal" type="text" class="form-control">
                       </div>
                       <div class="col-sm-2 mt-3 ">
                        <label for="note">Note  :</label>
                    </div>
                    <div class="col-sm-10 mt-3">
                        <input id="note" name="note" type="text" class="form-control">
                    </div>
                       <div class="col-sm-2 mt-2 ">
                           <label for="finalAmount">Final Amount :</label>
                       </div>
                       <div class="col-sm-3 mt-3">
                           <input id="finalAmount" name="final" class="form-control" type="text">
                       </div>
                       <div class="col-sm-1"></div>
                       <div class="col-sm-2 mt-2 ">
                        <label for="initialAmount">Initial Investment:</label>
                    </div>
                    <div class="col-sm-3 mt-3">
                        <input id="initialAmount" name="initial" class="form-control" type="text">
                    </div>
                    <div class="col-sm-2 mt-2">
                        <label for="pass">Confirm password :</label>
                    </div>
                    <div class="col-sm-5 mt-3">
                    <input type="password" name="password" id="pass" class="form-control">
                    </div>
                    <div class="col-sm-4"></div>
                       <div class="col-sm-2">
                       </div>
                       <div class="col-sm-10 mt-3" >
                           <button style="width: 75px;" type="submit" class="btn btn-success">  Add  </button>
                       </div>

                       </div> 
               </form>
            </div>

            </div>

    </div>
        </div>

    </div>

</div>
<div class="d-flex justify-content-center">
<div class="container-fluid">
<div class="row">
    <%save.Account.forEach(function(content){%>

        <!-- start modal1 -->
        <div   class="modal fade" id="<%=content._id%>" role="dialog">
            <div class="modal-dialog   modal-lg" role="content">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
               ADD TO SAVINGS
                </h4>
                <button style="outline: none;" type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form  action="/inc" method="POST">
                  <div class="form-row">
<div class="col-sm-3">
    <label for="inc">Enter Amount :</label>
</div>
<div class="col-8">
    <input id="inc" name="inc"  type="text" class="form-control">
</div>
<div class="col-1"></div>
<div class="col-sm-3">
</div>
<div class="col-8 mt-3" >
    <button style="width: 75px;" name="bt" value="<%=content.goal%>" type="submit" class="btn btn-success">  Add  </button>
</div>
<div class="col-1"></div>
                  </div>
                </form>
            </div>
        </div>
            </div>
        </div>
        <!-- end -->
        <!-- withdraw start -->
        <div   class="modal fade" id="<%=content.goal%>" role="dialog">
            <div class="modal-dialog   modal-lg" role="content">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">
               Enter Amount to withdraw
                </h4>
                <button style="outline: none;" type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form  action="/dec" method="POST">
                  <div class="form-row">
<div class="col-sm-3">
    <label for="inc">Enter Amount :</label>
</div>
<div class="col-8">
    <input id="dd" name="d"  type="text" class="form-control">
</div>
<div class="col-1"></div>
<div class="col-sm-3">
</div>
<div class="col-8 mt-3" >
    <button style="width: 75px;" name="dec" value="<%=content.goal%>" type="submit" class="btn btn-danger">  Withdraw  </button>
</div>
<div class="col-1"></div>
                  </div>
                </form>
            </div>
        </div>
            </div>
        </div>

        <!-- withdraw end -->
        <div class=" col-12  d-flex justify-content-center">
            <div class="main-div mb-4" >
                <div class="row">
                    <div class="col-6 title">
                        <h3><%=content.goal%></h3>
                    </div>
                    <div class="col-3">
                        <div>
                        
                                <button  style="border-radius: 25px;font-weight: bold;" class="btn <%=content._id%> bt-pos btn-success btn-sm">+Add</button>
                          
                        </div>
                    </div>
                    <div class="col-3">
                        <div>
                            <button style="border-radius:25px;font-weight: bold;" class="btn btn-danger <%=content.goal%> bt-pos1 btn- btn-sm">-Withdraw</button>
                        </div>
                    </div>
                    <div class="col-12">
                        <p class="NOTE">Note : <%=content.Note%></p>
                    </div>
                    <div class="col-6"> 
                        <p class="final">Final Amount: <%=content.finalAmount%></p>
                    </div>
                    <div class="col-6">
                        <p class="initial">Current Amount: <%=content.InitialAmount%></p>
                    </div>
                    <% var prog = Math.round((content.InitialAmount/content.finalAmount)*100) %> 
                    <div class="col-12 ">
                        <div class="container-fluid">
                        <div class="progress pos">
                            <div  class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width:<%=prog%>%"><span style="font-weight: bold;"><%=prog%>%</span></div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function(){
                $(".<%=content._id%>").click(function(){
                    $("#<%=content._id%>").modal();
                });

                $(".<%=content.goal%>").click(function(){
                    $("#<%=content.goal%>").modal();
                })
                
            });
        </script>
 <% }); %>
</div>
</div>
</div>
<script>
     $(document).ready(function(){
                $("#btx").click(function(){
                    $("#add").modal();
                });
            });

</script>



</body>
</html>